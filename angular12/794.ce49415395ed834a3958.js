(self.webpackChunkangular12=self.webpackChunkangular12||[]).push([[794],{794:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AboutModule:()=>p});var i=o(8583),a=o(4330),n=o(665),r=o(6169),s=o(4395),l=o(7519),d=o(7716),c=o(3801);function g(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(2),d.Oqu(t.location),d.xp6(2),d.Oqu(t.pincode),d.xp6(2),d.Oqu(t.district),d.xp6(2),d.Oqu(t.state)}}const u=[{path:"",component:(()=>{class t{constructor(t,e,o,i){this.mapsApiLoader=t,this.zone=e,this.wrapper=o,this.dataService=i,this.location={lat:51.678418,lng:7.809007,marker:{lat:51.678418,lng:7.809007,draggable:!0},zoom:5},this.circleRadius=5e3,this.title="Map location by postal code",this.lat=51.678418,this.lng=7.809007,this.zoom=1,this.postalCodeList=[],this.copyOfPostalCodeList=[],this.markers=[],this.mapsApiLoader=t,this.zone=e,this.wrapper=o,this.mapsApiLoader.load().then(()=>{this.geocoder=new google.maps.Geocoder})}ngOnInit(){this.location.marker.draggable=!0,this.getMockerData(),this.searchTerm=new n.NI(""),this.searchTerm.valueChanges.pipe((0,s.b)(500),(0,l.x)()).subscribe(t=>{console.log(t),this.postalCodeList=this.copyOfPostalCodeList.filter(e=>-1!=e.pincode.indexOf(t)),this.updateOnMap(t),""==t&&(this.postalCodeList=this.copyOfPostalCodeList)})}getMockerData(){this.dataService.getPostalData().subscribe(t=>{console.log("citiesData",t),this.postalCodeList=t,this.copyOfPostalCodeList=t;for(const e of this.postalCodeList);})}getLocation(){this.dataService.getLocation().subscribe(t=>{console.log("testData",t)})}clickedMarker(t,e){console.log(`clicked the marker: ${t||e}`)}mapClicked(t){this.markers.push({lat:t.coords.lat,lng:t.coords.lng,draggable:!0})}markerDragEnd(t,e){this.location.marker.lat=e.coords.lat,this.location.marker.lng=e.coords.lng,this.findAddressByCoordinates()}findAddressByCoordinates(){this.geocoder.geocode({location:{lat:this.location.marker.lat,lng:this.location.marker.lng}},(t,e)=>{this.decomposeAddressComponents(t)})}decomposeAddressComponents(t){if(0==t.length)return!1;let e=t[0].address_components;for(let o of e)(0!=o.length||o.types)&&(o.types.indexOf("street_number")>-1?this.location.address_level_1=o.long_name:o.types.indexOf("route")>-1?this.location.address_level_1+=", "+o.long_name:o.types.indexOf("locality")>-1?this.location.address_level_2=o.long_name:o.types.indexOf("administrative_area_level_1")>-1?this.location.address_state=o.long_name:o.types.indexOf("country")>-1?this.location.address_country=o.long_name:o.types.indexOf("postal_code")>-1&&(this.location.address_zip=o.long_name));return!0}updateOnMap(t){this.findLocation(t)}findLocation(t){this.geocoder||(this.geocoder=new google.maps.Geocoder),this.geocoder.geocode({address:t},(t,e)=>{console.log(t),e==google.maps.GeocoderStatus.OK?console.log(t):console.log("Sorry, this search produced no results.")})}circleRadiusInKm(){return this.circleRadius/1e3}milesToRadius(t){this.circleRadius=t/62137e-8}circleRadiusInMiles(){return 62137e-8*this.circleRadius}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.W7),d.Y36(d.R0b),d.Y36(r.Hh),d.Y36(c.Q))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-about"]],viewQuery:function(t,e){if(1&t&&d.Gf(r.SA,5),2&t){let t;d.iGM(t=d.CRH())&&(e.map=t.first)}},decls:30,vars:17,consts:[[1,"container-fluid"],[1,"row"],[1,"com-sm"],[1,"ml-3"],[1,"form-group","ml-3"],["placeholder","Search...","type","text","name","searchTerm",1,"form-control",3,"formControl"],[1,"col-sm"],["id","city"],[4,"ngFor","ngForOf"],[2,"height","300px",3,"latitude","longitude","zoom","disableDefaultUI","fitBounds","latitudeChange","longitudeChange","zoomChange","fitBoundsChange"],[3,"latitude","longitude","markerDraggable","latitudeChange","longitudeChange","dragEnd"],[3,"latitude","longitude","radius","fillColor","circleDraggable","editable","radiusChange"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h2",3),d._uU(4,"Postal Data"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(5,"div",1),d.TgZ(6,"div",4),d._UZ(7,"input",5),d.qZA(),d.qZA(),d.TgZ(8,"div",1),d.TgZ(9,"div",6),d.TgZ(10,"table",7),d.TgZ(11,"thead"),d.TgZ(12,"tr"),d.TgZ(13,"th"),d._uU(14,"Location"),d.qZA(),d.TgZ(15,"th"),d._uU(16,"Pincode"),d.qZA(),d.TgZ(17,"th"),d._uU(18,"District"),d.qZA(),d.TgZ(19,"th"),d._uU(20,"State"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"tbody"),d.YNc(22,g,9,4,"tr",8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"div",6),d.TgZ(24,"h4"),d._uU(25),d.qZA(),d.TgZ(26,"agm-map",9),d.NdJ("latitudeChange",function(t){return e.location.lat=t})("longitudeChange",function(t){return e.location.lng=t})("zoomChange",function(t){return e.location.zoom=t})("fitBoundsChange",function(t){return e.location.viewport=t}),d.TgZ(27,"agm-marker",10),d.NdJ("latitudeChange",function(t){return e.location.marker.lat=t})("longitudeChange",function(t){return e.location.marker.lng=t})("dragEnd",function(t){return e.markerDragEnd(t)}),d.qZA(),d.TgZ(28,"agm-circle",11),d.NdJ("radiusChange",function(t){return e.circleRadius=t}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(29,"div",1),d.qZA()),2&t&&(d.xp6(7),d.Q6J("formControl",e.searchTerm),d.xp6(15),d.Q6J("ngForOf",e.postalCodeList),d.xp6(3),d.Oqu(e.title),d.xp6(1),d.Q6J("latitude",e.location.lat)("longitude",e.location.lng)("zoom",e.location.zoom)("disableDefaultUI",!0)("fitBounds",e.location.viewport),d.xp6(1),d.Q6J("latitude",e.location.marker.lat)("longitude",e.location.marker.lng)("markerDraggable",e.location.marker.draggable),d.xp6(1),d.Q6J("latitude",e.location.lat)("longitude",e.location.lng)("radius",e.circleRadius)("fillColor","blue")("circleDraggable",!0)("editable",!0))},directives:[n.Fj,n.JJ,n.oH,i.sg,r.SA,r.pt,r.uU],styles:["#city[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#city[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#city[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#city[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#8fb1f1;color:#fff}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[a.Bz.forChild(u)],a.Bz]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[r.Hh],imports:[[i.ez,h,n.u5,n.UX,r.su.forRoot({apiKey:"AIzaSyDjd85ThShiW3uZ8yKTJ-ipoJ_V97pxx8c"})]]}),t})()}}]);